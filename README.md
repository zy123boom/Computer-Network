# 计算机网络
## 网络概述
#### 1.分层
	OSI七层协议：应用层、表示层、会话层、运输层、网络层、数据链路层、物理层
	TCP/IP四层协议：应用层、运输层、网际层、网络接口层
	五层协议：应用层、运输层、网络层、数据链路层、物理层
#### 2.各层协议
	应用层：HTTP,FTP,TELENT,SMTP,DNS解析,TFTP,SNMP,DHCP
	运输层：TCP,UDP
	网络层：IP,ARP(TCP/IP模型),RIP,OSPF,BGP,RARP,ICMP,NAT
	链路层：PPP,ARP(OSI模型),HDLC,FR

## 运输层
#### 1.TCP连接三次握手
	第一步：客户端的TCP首先向服务端的TCP发出一个特殊的TCP报文段，该报文段不包含任何数据。但在报文段首部
	中的SYN标志位被置为1。另外，客户会随机地选择一个初始序号client_isn，并将此编号放置于该起始的TCP SYN
	报文段的序号字段中。该报文段会被封装在一个IP数据报中，并发送给服务器。
	第二步：当包含TCP SYN报文段的IP数据报到达服务器主机，服务器会从该数据报中提取SYN报文段，为该TCP连接
	分配TCP缓存和变量，并向该客户TCP发送允许连接的报文段。首先，SYN被置为1，该TCP报文段首部的确认号字段
	ACK为client_isn+1。最后，服务器选择自己的初始序号server_isn，并将其放到TCP报文段的首部字段中。
	第三步：在收到SYN ACK报文段后，客户也要给该连接分配缓存和变量。客户主机则向服务器发送另一个报文段，
	这最后一个报文段对服务器的允许连接的报文段进行了确认，将值server_isn+1放置到TCP报文段首部的确认字段
	ACK来完成工作。因为连接建立了，所以SYN置为0。
	总结：
	①SYN=1，seq=client_isn   客=>服
	②SYN=1, ACK=client_isn+1, seq=server_isn  服=>客
	③SYN=0，ACK=server_isn+1, seq=client_isn+1  客=>服
#### 2.TCP释放连接四次挥手
	第一步：当客户端打算关闭连接，客户TCP向服务器进程发送一个特殊的TCP报文段。这个特殊的报文段让其首部的FIN标志位
	置为1。
	第二步：当服务器接收到该报文段后，就向发送方回送一个确认报文段
	第三步：服务器发送它自己的终止报文段，其FIN被置为1
	第四步：最后，该客户对这个服务器的终止报文段进行确认。
	总结：
	①FIN=1, seq=client_isn   客=>服
	②SYN=1, ACK=client_isn+1,seq=server_isn  服=>客
	③FIN=1, ACK=client_isn+1,seq=server_isn2 服=>客
	④ACK=server_isn2+1, seq=client_isn+1 客=>服
#### 3.TCP为什么可靠
	三次握手，超时重传，滑动窗口，拥塞控制
#### 4.TCP流量控制（滑动窗口）
	所谓流量控制就是让发送方的发送速率不要太快，要让接收方来得及接收
	方法：利用滑动窗口实现流量控制
	设A向B发送数据，在连接建立时，B告诉A:"我的接收窗口rwnd=400"。因此，发送窗口不能超过接收方给出的接收窗口的值
	注：TCP的窗口单位是字节，不是报文段。
#### 5.TCP拥塞控制
	所谓拥塞控制就是防止过多的数据注入到网络中，这样可以使网络中的路由器或链路不至于过载
	拥塞控制的四种方法：
	①慢开始：由小到大逐渐增大发送窗口，即由小到大逐渐增大拥塞窗口的数值。
	使用慢开始算法后，每经历一个传输轮次（RTT），拥塞窗口cwnd就加倍
	②拥塞避免：思路是让拥塞窗口cwnd缓慢地增大，即经过一个RTT后就把发送方的拥塞窗口cwnd加1，而不是加倍
	③快重传：快重传算法首先要求接收方每收到一个失序的报文段后就立即发出确认，而不要等待自己发送数据时才进行捎带
	确认。
	eg:发送M1,确认M1。发送M2,确认M2。发送M3,丢失。发送M4,重复确认M2。发送M5，重复确认M2......
	快重传算法规定，发送方只要一连收到三个重复确认就应当立即重传对方尚未收到的报文段M3,而不必等待为M3设置的重传计时
	器到期。
	④快恢复：与快重传配合使用。

## 协议
#### 1.页面请求的工作流程
	①用户通过浏览器输入链接地址请求所需资源
	②浏览器接受用户的请求，并把请求组装成指定的格式发送给服务器端，客户端和服务器端之间通过HTTP来完成具体的交互
	③服务器接收到客户端发来的请求，并查找用户所需要的资源
	④服务器查找到资源后，把资源返回给客户端
	⑤服务器通过把响应消息组装成特定的消息格式后返回给客户端，这个过程通过HTTP来完成
	⑥浏览器对HTML进行解析，并把响应结果返回给客户。
#### 2.HTTP和HTTPS的区别
	①https协议要申请证书到ca，需要一定经济成本
	②http是明文传输，https是加密的安全传输
	③http端口是80，https是443
	④http连接简单，没有状态。https是ssl加密的传输，身份认证的网络协议，较为安全。
#### 3.http的请求有哪些，502和504的区别
	OPTIONS: 返回服务器针对特定资源所支持的HTTP请求方法
	HEAD：向服务器索要与GET请求相一致的响应。
	GET：向特定的资源发出请求
	POST:向指定资源提交数据进行处理请求。
	PUT：向指定资源位置上传最新内容
	DELETE：请求服务器删除Request-URI所标识的资源
	TRACE：回显服务器收到的请求，主要用于测试和诊断。

	502：作为网关或者代理工作的服务器尝试执行请求时，从上游服务器接收到无效的响应。
	504：作为网关或者代理工作的服务器尝试执行请求时，未能及时从上游服务器（URL标识出的服务器）或者辅助服务器（DNS）收到响应
#### 4.http1.1和http1.0的区别
	①缓存处理，http1.1引入了更多的缓存控制策略
	②带宽优化及网络连接的使用。HTTP1.0存在浪费带宽现象，例如客户端只需要某个对象的一部分，服务器却将整个对象送过来了。
	HTTP1.1在请求头引入了range头域，允许只请求资源的某个部分
	③错误通知的管理，HTTP1.1新增了24个错误状态响应码
	④长连接,HTTP1.1支持长连接和请求的流水线。在一个TCP连接上可以传送多个HTTP请求和响应，减少了建立和关闭连接的消耗跟延迟。
		
#### 5.SSL
	SSL(Secure Sockets Layer 安全套接层),及其继任者传输层安全（Transport Layer Security，TLS）是为网络通信提供安全及数据完整性的一种安全协	      议。TLS与SSL在传输层对网络连接进行加密
	工作流程
	服务器认证阶段：1）客户端向服务器发送一个开始信息“Hello”以便开始一个新的会话连接；2）服务器根据客户的信息确定是否需要生成新的主密钥，如需要         则服务器在响应客户的“Hello”信息时将包含生成主密钥所需的信息；3）客户根据收到的服务器响应信息，产生一个主密钥，并用服务器的公开密钥加密后传给         服务器；4）服务器回复该主密钥，并返回给客户一个用主密钥认证的信息，以此让客户认证服务器。
	用户认证阶段：在此之前，服务器已经通过了客户认证，这一阶段主要完成对客户的认证。经认证的服务器发送一个提问给客户，客户则返回（数字）签名后的         提问和其公开密钥，从而向服务器提供认证。

## 网络层
#### 1.ARP协议
	地址解析协议。解决问题的方法是在主机ARP高速缓存中应存放一个从IP地址到硬件地址的映射表，并且这个映射表还经常动态更新。
	首先，当主机A要向本局域网上的某个主机B发送IP数据报时，就先在其ARP高速缓存中查看有无主机B的IP地址，如果有，就在ARP高速缓存中查出其对应的硬件	    地址，再把这个硬件地址写入MAC帧，然后通过局域网把该MAC帧发往此硬件地址。
	如果查不到，按以下步骤查找：
	①ARP进程在本局域网上广播发送一个ARP请求分组。分组内容是我的IP，我的硬件地址，想知道的IP为XXX的硬件地址。
	②在本局域网上的所有主机上运行的ARP进程都收到此ARP请求分组
	③主机B的IP地址与ARP请求分组中要查询的IP地址一致，就收下这个ARP请求分组，并向主机A发送ARP响应分组，并在这个分组中写入自己的硬件地址。其余的	     所有主机不理睬这个ARP请求分组
	④主机A收到主机B的ARP响应分组后，就在其ARP高速缓存中写入主机B的IP地址到硬件地址的映射
	
#### 2.ARP欺骗
	由上述过程可知，ARP基本没有对网络的安全性做任何思考，人们考虑的重点是如何保证网络通信能够正确和快速的完成。ARP协议工作的前提是默认了所在的网	 络是一个善良的网络，每台主机向网络中发送的应答信号都是使用的真实身份。后来发现，ARP应答中的IP和MAC地址可以伪造，所以因此ARP欺骗就产生了。
	
## 其他
#### 1.对称加密和非对称加密
	对称密钥加密是指加密和解密使用同一个密钥的方式，这种方式存在的最大问题就是密钥发送问题，即如何安全地将密钥发给对方；而非对称加密是指使用一对         非对称密钥，即公钥和私钥，公钥可以随意发布，但私钥只有自己知道。发送密文的一方使用对方的公钥进行加密处理，对方接收到加密信息后，使用自己的私         钥进行解密。
	由于非对称加密的方式不需要发送用来解密的私钥，所以可以保证安全性；但是和对称加密比起来，它非常的慢，所以我们还是要用对称加密来传送消息，但对         称加密所使用的密钥我们可以通过非对称加密的方式发送出去。

#### 2.GET和POST的区别
　　	GET与POST是我们常用的两种HTTP Method，二者之间的区别主要包括如下五个方面：
	(1). 从功能上讲，GET一般用来从服务器上获取资源，POST一般用来更新服务器上的资源；
	(2). 从请求参数形式上看，GET请求的数据会附在URL之后，即将请求数据放置在HTTP报文的 请求头 中，以?分割URL和传输数据，参数之间以&相连。特别           地，如果数据是英文字母/数字，原样发送
	(3). 就安全性而言，POST的安全性要比GET的安全性高，因为GET请求提交的数据将明文出现在URL上，而且POST请求参数则被包装到请求体中，相对更安全。
	(4). 从请求的大小看，GET请求的长度受限于浏览器或服务器对URL长度的限制，允许发送的数据量比较小，而POST请求则是没有大小限制的。

#### 3.TCP和UDP的区别
	TCP是面向连接的，UDP是无连接的；
	TCP是可靠的，UDP是不可靠的；
	TCP只支持点对点通信，UDP支持一对一、一对多、多对一、多对多的通信模式
	TCP是面向字节流的，UDP是面向报文的；
	TCP有拥塞控制机制，UDP没有拥塞控制，适合媒体通信；
	TCP首部开销(20个字节)比UDP的首部开销(8个字节)要大；

#### 4.SQL注入
	SQL注入就是通过把SQL命令插入到Web表单提交或输入域名或页面请求的查询字符串，最终达到欺骗服务器执行恶意的SQL命令。

#### 5.常见状态码
	①1xx：请求处理中，请求已被接受，正在处理
	②2xx: 请求成功，请求被成功处理
	③3xx：重定向，要完成请求必须进行进一步处理
	 301：永久性转移
	 302：暂时性转移
	 304：已缓存
	④4xx：客户端错误，请求不合法
	 400：Bad Request，请求语法有问题
	 403：拒绝请求
	 404：客户端访问的页面不存在
	⑤5xx：服务器端错误，服务器不能处理合法请求 
	 500：服务器内部错误
	 503：服务不可用
